var Page=Backbone.Model.extend({initialize:function(){this.pictureSlots=new PictureSlotsCollection}}),PagesCollection=Backbone.Collection.extend({model:Page}),Book=Backbone.Model.extend({initialize:function(){this.pages=new PagesCollection,this.pictures=new PicturesCollection}}),BooksCollection=Backbone.Collection.extend({model:Book}),PictureSlot=Backbone.Model.extend({}),PictureSlotsCollection=Backbone.Collection.extend({model:PictureSlot}),Picture=Backbone.Model.extend({}),PicturesCollection=Backbone.Collection.extend({model:Picture}),exampleSeries={seriesName:"Free Series"},exampleBook={readingLevel:"300",bookName:"Time for Bed",characters:{child:{name:"Bobby",gender:"male"},parent:{name:"Mommy",gender:"female"}}},examplePages=[{pageNumber:"cover",dynamic:!0,copyText:""},{pageNumber:"b",dynamic:!0,copyText:""},{pageNumber:"1",dynamic:!0,copyText:"It is late.<br>It is time for bed.<br>It is time to go to bed."},{pageNumber:"2",dynamic:!0,copyText:"<%= child %> is funny.<br>Do not play, <%= child %>. <br>It is time to go to bed."},{pageNumber:"3",dynamic:!0,copyText:"Come <%= child %>.<br>It is time.<br>It is time to wash."},{pageNumber:"4",dynamic:!0,copyText:"Good, <%= child %>.<br>You can help.<br>Find the top."},{pageNumber:"5",dynamic:!0,copyText:"Good <%= child %>.<br>Jump in bed.<br>You are good.."},{pageNumber:"6",dynamic:!0,copyText:"It is time.<br>It is time to read.<br>It is good to read."},{pageNumber:"7",dynamic:!0,copyText:"It is time.<br>It is time to go to sleep.<br>You are good."},{pageNumber:"8",dynamic:!0,copyText:"I love you, <%= child %>.<br>I love you, <%= parent %>."}],examplePictures=[{caption:"picture of Amara brushing teeth",url:"/images/brushing-teeth.JPG"},{caption:"picture of kids reading book",url:"/images/bedtime-story.JPG"},{caption:"bedtime kisses",url:"/images/bedtime-kiss.JPG"},{caption:"picture of kid yawning",url:"/images/child-yawn.JPG"},{caption:"laying out tomorrows clothes",url:"/images/laying-out-clothes.JPG"},{caption:"turning lights off",url:"/images/lights-off.JPG"},{caption:"being silly in the bathroom",url:"/images/silly-bathroom.JPG"}],examplePictureSlots=[{verbalCue:"child yawning",pageNumber:["cover","b"]},{verbalCue:"child playing",pageNumber:["1"]},{verbalCue:"child being silly in bathroom",pageNumber:["2"]},{verbalCue:"getting ready for bathtime",pageNumber:["3"]},{verbalCue:"child laying out next day's clothes",pageNumber:["4"]},{verbalCue:"child crawling into bed",pageNumber:["5"]},{verbalCue:"reading in bed",pageNumber:["6"]},{verbalCue:"goodnight kiss",pageNumber:["7"]},{verbalCue:"turning off lights",pageNumber:["8"]}];console.log("We can do this!!!!");var books=new BooksCollection(exampleBook),sampleBook=books.models[0];sampleBook.pages.add(examplePages),sampleBook.pictures.add(examplePictures),sampleBook.pages.each(function(a){var b=_.filter(examplePictureSlots,function(b){return b.pageNumber==a.get("pageNumber")});console.log(a.get("pageNumber")),_.each(b,function(a){this.pictureSlots.add(a)})}),console.log(sampleBook);